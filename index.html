<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, viewport-fit=cover" />
  <title>观音灵签</title>
  <meta name="description" content="观音灵签 · 一方签文，千载智慧，照见古今人生路。" />
  <script type="text/javascript" src="//mat1.gtimg.com/www/js/newsapp/jsapi/news.js?_tsid=1" async=""></script>

  <style>
/* 开发预览用CSS变量 - 构建时会被替换 */
/* BUILD_PLACEHOLDER_START */
:root {
        --t1: #333333;
        --t2: #5C5C5C;
        --bg-white: #FFFFFF;
        --bg-grey: #f5f5f5;}
/* BUILD_PLACEHOLDER_END */

/* 工具模板 - 主题变量定义 */
body,
.light-theme {
  --logo-url: url("./images/logo-light.webp");
}

.dark-theme {
  --logo-url: url("./images/logo-dark.webp");
}

/* 全局重置和基础样式 */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html, body {
  overflow: hidden !important;
  height: auto;
  min-height: auto;
}

body {
  background-color: var(--bg-grey);
  color: var(--t1);
  line-height: 1.5;
  opacity: 0;
  animation: fadeIn 0.5s ease-out forwards;
  -webkit-user-select: none;
  user-select: none;
  -webkit-touch-callout: none;
  touch-action: manipulation;
  -webkit-text-size-adjust: 100%;
}

/* 淡入动画定义 - 优化版本，避免与高度响应冲突 */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.container {
  margin: 0 12px 6px 12px;
  padding: 16px;
  background-color: var(--bg-white);
  border-radius: 12px;
  width: calc(100% - 24px);
}

/* 标题样式 */
.header-text {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.header-title {
  font-size: 24px;
  font-weight: 500;
  color: var(--t1);
  margin: 0;
  line-height: 28px;
}

.header-subtitle {
  font-size: 14px;
  font-weight: 400;
  color: var(--t2);
  margin: 0;
  line-height: 14px;
}

/* 工具卡片容器 */
.tool-card {
  background-color: var(--bg-white);
  border-radius: 12px;
}

/* 头部区域样式 */
.header-section {
  margin: 12px;
  padding: 0;
}

.header-top {
  display: flex;
  align-items: center;
  gap: 4px;
}

.header-logo {
  width: 210px;
  max-width: 100%;
  height: 14px;
  background-image: var(--logo-url);
  background-size: contain;
  background-repeat: no-repeat;
  background-position: left center;
}

.header-status {
  font-size: 12px;
  font-weight: 400;
  color: var(--t2);
  line-height: 12px;
}

/* 标题区域间距 */
.header-text-spaced {
  margin-top: 12px;
}

  </style>

<style>
/* -------------------- 基础重置 -------------------- */

/* 统一盒模型 */
* {
  box-sizing: border-box;
  /* 禁用Android默认触摸高亮 */
  -webkit-tap-highlight-color: transparent;
}

/* 通用body属性 - 不重新定义body以避免覆盖模板中的动画 */
html {
  /* 禁用缩放 */
  touch-action: manipulation;
  
  /* 固定文字大小 */
  -webkit-text-size-adjust: 100%;
}

body {
  /* 禁止选中文字 */
  -webkit-user-select: none;
  user-select: none;
  
  /* 统一字体渲染 - 使用默认渲染以保持字体粗细一致 */
  -webkit-touch-callout: none;
}

/* 统一滚动策略 - 适配WebView和iframe环境 */
html, body {
  overflow: hidden !important;
  overflow-x: hidden !important;
  overflow-y: hidden !important;
}

/* -------------------- 工具类 -------------------- */

/* 隐藏元素 */
.hidden {
  display: none;
}

/* -------------------- 通用按钮样式 -------------------- */

/* 统一按钮基础样式 */
.btn,
button {
  border: none;
  cursor: pointer;
  transition: all 0.2s ease;
  font-family: inherit;
  outline: none;
  display: flex;
  align-items: center;
  justify-content: center;
  touch-action: manipulation;
}

/* -------------------- 统一交互效果 -------------------- */

/* 统一悬停效果 - 只在支持真正hover的设备上启用 */
@media (hover: hover) and (pointer: fine) {
  .btn:hover {
    opacity: 0.6;
  }
}

/* 统一点击效果 - 60%不透明度 + 轻微放大 */
.btn:active {
  opacity: 0.6;
  transform: scale(1.02);
}

/* 统一不可用状态 - 30%不透明度 */
.btn:disabled,
.btn[disabled],
.btn[aria-disabled="true"],
.btn.disabled {
  opacity: 0.3;
  cursor: not-allowed;
  pointer-events: none;
}

/* 移除所有按钮的聚焦效果 */
.btn:focus,
.btn:focus-visible {
  outline: none;
  box-shadow: none;
}

/* -------------------- 响应式优化 -------------------- */

/* 防止iOS缩放 */
@media (max-width: 480px) {
  input[type="text"],
  input[type="email"],
  input[type="tel"],
  textarea {
    font-size: 16px;
  }
}

/* 观音灵签样式 */
.guanyin-container {
  width: 100%;
  max-width: 100%;
  margin: 0;
  padding: 0;
}

/* 主内容区 */
.main-card {
  min-height: 380px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  padding: 0;
}

/* 阶段内容 */
.stage-content {
  display: none;
  width: 100%;
  padding: 0 16px;
}

.stage-content.active {
  display: block;
  animation: fadeIn 0.3s ease-in-out;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

.stage-title {
  font-size: 18px;
  line-height: 26px;
  color: var(--t1, #0052d9);
  margin-bottom: 20px;
  text-align: center;
  font-weight: 600;
}

.prayer-description {
  text-align: center;
  color: var(--t2, rgba(0, 0, 0, 0.6));
  font-size: 16px;
  line-height: 24px;
  margin-bottom: 25px;
  font-weight: 400;
}

.prayer-description p {
  margin-bottom: 10px;
}

.prayer-btn {
  background: var(--t1, #0052d9);
  color: white;
  border: none;
  padding: 12px 25px;
  font-size: 16px;
  line-height: 24px;
  border-radius: 20px;
  cursor: pointer;
  transition: all 0.3s ease;
  font-family: inherit;
  font-weight: 600;
  display: block;
  margin: 0 auto;
  width: 100%;
}

.prayer-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 82, 217, 0.3);
}

.tube-shaking {
  display: flex;
  justify-content: center;
  margin: 30px 0;
  transform: scale(0.8);
}

/* 签筒主体 */
.tube {
  width: 80px;
  height: 160px;
  background: #713300;
  border: 3px solid #532300;
  border-radius: 8px 8px 16px 16px;
  position: relative;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  cursor: pointer;
}

/* 签筒顶盖 */
.tube-cap {
  position: absolute;
  top: -3px;
  left: -3px;
  right: -3px;
  height: 24px;
  background: #532300;
  border: 3px solid #3b1700;
  border-radius: 8px 8px 0 0;
  z-index: 10;
}

/* 遮罩层 */
.tube-mask {
  position: absolute;
  top: 20px;
  left: -3px;
  right: -3px;
  bottom: -3px;
  background: #713300;
  border: 3px solid #532300;
  border-top: none;
  border-radius: 0 0 16px 16px;
  z-index: 8;
}

/* 签筒装饰纹 */
.tube-band {
  position: absolute;
  left: -3px;
  right: -3px;
  height: 8px;
  background: #532300;
  border-left: 3px solid #3b1700;
  border-right: 3px solid #3b1700;
}

.tube-band:nth-child(2) {
  top: 50px;
}

.tube-band:nth-child(3) {
  bottom: 40px;
}

/* 莲花装饰 */
.lotus-pattern {
  position: absolute;
  top: 70px;
  left: 50%;
  transform: translateX(-50%);
  width: 40px;
  height: 40px;
  z-index: 9;
}

.lotus-pattern svg {
  width: 100%;
  height: 100%;
}

/* 签条 */
.stick {
  position: absolute;
  width: 6px;
  height: 120px;
  background: #fff0ed;
  border-radius: 3px;
  left: 50%;
  transform: translateX(-50%);
  top: 100px;
  z-index: 5;
  box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
  opacity: 0;
}

/* 签条顶端 */
.stick::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 20px;
  background: #881f1c;
  border-radius: 3px 3px 0 0;
}

.cups {
  display: flex;
  justify-content: center;
  gap: 40px;
  margin: 30px 0;
}

.cup {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 15px;
}

.cup svg {
  filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.3));
  cursor: pointer;
  transition: transform 0.3s;
}

.cup svg:hover {
  transform: scale(1.1);
}

.cup-label {
  font-size: 12px;
  line-height: 20px;
  color: var(--t1, #0052d9);
  text-align: center;
  min-height: 20px;
  font-weight: 600;
}

/* 摇签动画 */
@keyframes shake {
  0%, 100% { transform: rotate(0deg); }
  10% { transform: rotate(-10deg); }
  20% { transform: rotate(10deg); }
  30% { transform: rotate(-10deg); }
  40% { transform: rotate(10deg); }
  50% { transform: rotate(-8deg); }
  60% { transform: rotate(8deg); }
  70% { transform: rotate(-6deg); }
  80% { transform: rotate(6deg); }
  90% { transform: rotate(-3deg); }
}

/* 签条弹出动画 */
@keyframes stick-out {
  0%, 90% { 
    top: 100px;
    opacity: 0;
  }
  95% {
    top: -70px;
    opacity: 1;
  }
  100% { 
    top: -60px;
    opacity: 1;
  }
}

.tube.shaking {
  animation: shake 3s ease-in-out;
}

.tube.shaking .stick {
  animation: stick-out 3s ease-in-out forwards;
}

/* 签条保持可见状态 */
.tube.stick-visible .stick {
  top: -60px;
  opacity: 1;
}

.cup-result {
  text-align: center;
  color: var(--t1, #0052d9);
  font-size: 16px;
  line-height: 24px;
  margin-top: 20px;
  font-weight: 600;
}

.loading-text {
  text-align: center;
  color: var(--t2, rgba(0, 0, 0, 0.6));
  font-size: 14px;
  line-height: 22px;
  margin: 20px 0;
  font-weight: 400;
}

/* 签文详情页面 */
.result-card {
  display: none;
  animation: fadeIn 0.3s ease-in-out;
  margin-top: 20px;
  padding: 0 16px;
}

.result-card.active {
  display: block;
}

.lottery-container {
  max-width: 100%;
  padding: 0 16px;
}

.lottery-title {
  text-align: center;
  font-size: 18px;
  line-height: 26px;
  color: var(--t1, #0052d9);
  margin-bottom: 15px;
  font-weight: 600;
}

.lottery-info {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
  padding: 12px 15px;
  background: #e7e8eb;
  border-radius: 8px;
}

.lottery-number {
  font-size: 16px;
  line-height: 24px;
  color: var(--t1, #0052d9);
  font-weight: 600;
}

.lottery-type {
  padding: 4px 12px;
  border-radius: 12px;
  font-size: 12px;
  line-height: 20px;
  font-weight: 600;
}

.lottery-type.上签 { background: #d4edda; color: #155724; }
.lottery-type.中签 { background: #fff3cd; color: #856404; }
.lottery-type.下签 { background: #d54941; color: #fff; }

.lottery-content {
  background: #eeeef0;
  padding: 20px;
  border-radius: 8px;
  margin-bottom: 20px;
}

.lottery-poetry, .lottery-meaning, .lottery-explanation {
  margin-bottom: 15px;
}

.lottery-poetry:last-child, 
.lottery-meaning:last-child, 
.lottery-explanation:last-child {
  margin-bottom: 0;
}

.lottery-poetry h4, .lottery-meaning h4, .lottery-explanation h4 {
  color: var(--t1, #0052d9);
  margin-bottom: 8px;
  font-size: 14px;
  line-height: 22px;
  font-weight: 600;
}

.lottery-poetry p, .lottery-meaning p, .lottery-explanation p {
  color: var(--t2, rgba(0, 0, 0, 0.6));
  line-height: 22px;
  font-size: 14px;
  font-weight: 400;
}

/* 暗色主题适配 */
.dark-theme .guanyin-title {
  color: var(--t1, #4dabf7);
}

.dark-theme .stage-title {
  color: var(--t1, #4dabf7);
}

.dark-theme .prayer-btn {
  background: var(--t1, #4dabf7);
}

.dark-theme .cup-label {
  color: var(--t1, #4dabf7);
}

.dark-theme .cup-result {
  color: var(--t1, #4dabf7);
}

.dark-theme .lottery-title {
  color: var(--t1, #4dabf7);
}

.dark-theme .lottery-number {
  color: var(--t1, #4dabf7);
}

.dark-theme .lottery-poetry h4, 
.dark-theme .lottery-meaning h4, 
.dark-theme .lottery-explanation h4 {
  color: var(--t1, #4dabf7);
}

.dark-theme .main-card,
.dark-theme .result-card {
  border-color: #444;
}

.dark-theme .lottery-info {
  background: #333;
}

.dark-theme .lottery-content {
  background: #2a2a2a;
}
</style>
</head>
<body data-platform="tn">
  <!-- 头部区域 -->
  <div class="header-section">
    <div class="header-top">
      <div class="header-logo" role="img" aria-label="Logo"></div>
      <span class="header-status">已为你生成工具</span>
    </div>
    <!-- 工具标题区域 -->
    <div class="header-text header-text-spaced">
      <h1 class="header-title">观音灵签</h1>
      <p class="header-subtitle">一方签文，千载智慧，照见古今人生路。</p>
    </div>
  </div>

  <!-- 工具内容区域 -->
  <main class="container">
    <div class="tool-card">
      <div class="guanyin-container">
  <!-- 主内容区 -->
  <div class="main-card" id="main-card">
        <!-- 祈请阶段 -->
        <div id="prayer-content" class="stage-content active">
          <h2 class="stage-title">祈请观音灵签</h2>
          <div class="prayer-description">
            <p>请默想心愿，开始求签。<br>摇签后需掷筊确认，获「圣杯」方可解签。</p>
          </div>
          <button id="start-prayer-btn" class="prayer-btn">开始求签</button>
        </div>

        <!-- 摇签阶段 -->
        <div id="shaking-content" class="stage-content">
          <h2 class="stage-title">摇动签筒</h2>
          <div class="tube-shaking">
            <div class="tube" id="tube">
              <div class="tube-cap"></div>
              <div class="tube-band"></div>
              <div class="tube-band"></div>
              <!-- 莲花装饰 -->
              <div class="lotus-pattern">
                <svg viewBox="0 0 40 40" fill="none">
                  <!-- 简约莲花 - 三片花瓣 -->
                  <path d="M20 8 Q16 16 20 24 Q24 16 20 8" stroke="#be5a00" stroke-width="1.5" fill="none"/>
                  <path d="M12 14 Q16 18 20 24 Q14 20 12 14" stroke="#be5a00" stroke-width="1.5" fill="none"/>
                  <path d="M28 14 Q24 18 20 24 Q26 20 28 14" stroke="#be5a00" stroke-width="1.5" fill="none"/>
                  <!-- 底部小圆点 -->
                  <circle cx="20" cy="28" r="2" fill="#be5a00"/>
                </svg>
              </div>
              <div class="stick"></div>
              <div class="tube-mask"></div>
            </div>
          </div>
          <p class="loading-text">专注摇签中...</p>
        </div>

        <!-- 圣杯确认阶段 -->
        <div id="confirmation-content" class="stage-content">
          <h2 class="stage-title">圣杯确认</h2>
          <div class="cups">
            <div id="cup1" class="cup">
              <svg width="80" height="120" viewBox="0 0 80 120">
                <g transform="translate(40, 60) rotate(-90) translate(-40, -60)">
                  <path d="M 15 75 A 25 25 0 0 1 65 75 Z" 
                        fill="#8B0000" 
                        stroke="#000000" 
                        stroke-width="2"/>
                  <ellipse cx="40" cy="58" rx="12" ry="8" 
                           fill="rgba(255,255,255,0.2)"/>
                </g>
              </svg>
              <div class="cup-label"></div>
            </div>
            <div id="cup2" class="cup">
              <svg width="80" height="120" viewBox="0 0 80 120">
                <g transform="translate(40, 60) rotate(-90) translate(-40, -60)">
                  <path d="M 15 75 A 25 25 0 0 1 65 75 Z" 
                        fill="#8B0000" 
                        stroke="#000000" 
                        stroke-width="2"/>
                  <ellipse cx="40" cy="58" rx="12" ry="8" 
                           fill="rgba(255,255,255,0.2)"/>
                </g>
              </svg>
              <div class="cup-label"></div>
            </div>
          </div>
          <p id="cup-result" class="cup-result"></p>
          <button id="action-btn" class="prayer-btn" style="display: none; margin-top: 20px;">再求一签</button>
        </div>
      </div>

      <!-- 签文详情 -->
      <div id="result-card" class="result-card">
        <div class="lottery-container">
          <h3 id="lottery-title" class="lottery-title"></h3>
          <div class="lottery-info">
            <div class="lottery-number">第<span id="lottery-id">1</span>签</div>
            <div class="lottery-type" id="lottery-type">上签</div>
          </div>
          <div class="lottery-content">
            <div class="lottery-poetry">
              <h4>诗曰：</h4>
              <p id="poetry-text"></p>
            </div>
            <div class="lottery-meaning">
              <h4>诗意：</h4>
              <p id="meaning-text"></p>
            </div>
            <div class="lottery-explanation">
              <h4>解曰：</h4>
              <p id="explanation-text"></p>
            </div>
          </div>
          <button id="restart-btn" class="prayer-btn">再求一签</button>
        </div>
      </div>
    </div>

  
  
    </div>
  </main>



  <!-- 主题控制脚本 -->
  <script type="text/javascript">
    function setTheme(value) {
      document.body.classList.remove("light-theme", "dark-theme");
      const isNight = value === "2" || value === "night" || value === "dark";
      document.body.classList.add(isNight ? "dark-theme" : "light-theme");
    }

    function getParam(name) {
      return new URLSearchParams(window.location.search).get(name);
    }

    // 页面初始化时app会主动给网页地址注入参数isnm来通知网页当前app的主题模式，网页需要根据地址链接参数来做对应模式适配
    try {
      const theme = getParam("isnm") || getParam("theme");
      if (theme) setTheme(theme);
    } catch (e) {
      console.error(e);
    }

    // app切换日夜间模式时，会主动调用网页提供的回调函数
    window.webCellManager = {
      themeChanged: function(theme) {
        try {
          setTheme(theme);
        } catch (e) {
          console.error(e);
        }
      }
    };

    // 高度监测功能
    function updateHeight() {
      try {
        const contentHeight = Math.ceil(document.body.getBoundingClientRect().height)  || 400;
        const webViewWidth = window.innerWidth;
        const aspectRatio = webViewWidth / contentHeight;

        window?.TencentNews?.invoke('adjustWebViewInfo', {
          aspectRatio: aspectRatio
        });
        window?.TencentNews?.invoke('onWebCellReady');
        
      } catch (e) {
        console.error('高度更新失败:', e);
      }
    }

    // 页面加载完成后初始化
    window.addEventListener('load', updateHeight);

    // 窗口大小变化时更新高度
    window.addEventListener('resize', updateHeight);

    // 监听内容变化
    if (window.MutationObserver) {
      const observer = new MutationObserver(updateHeight);
      
      observer.observe(document.body, {
        childList: true,
        subtree: true,
        attributes: true,
        attributeFilter: ['style', 'class']
      });
    }
  </script>

<script>
// 观音灵签100签完整数据库
const guanyinLotteryData = [
    {
        id: 1,
        title: "钟离成道",
        type: "上签子宫",
        poetry: "开天辟地作良缘。吉日良时万物全。若得此签非小可。人行忠正帝王宣。",
        meaning: "此卦盘古初开天地之象。诸事皆吉也。",
        explanation: "急速兆速。年未值时。观音降笔。先报君知。"
    },
    {
        id: 2,
        title: "苏秦不第",
        type: "中签子宫",
        poetry: "鲸鱼未变守江河。不可升腾更望高。异日峥嵘身变化。许君一跃跳龙门。",
        meaning: "此卦鲸鱼未变之象。凡事忍耐待时。",
        explanation: "得忍且忍。得耐且耐。身不须忙。功名自在。"
    },
    {
        id: 3,
        title: "董永遇仙",
        type: "上签子宫",
        poetry: "临风冒雨去还乡。正是其身似燕儿。衔得坭来欲作垒。到头垒坏复须坭。",
        meaning: "此卦燕子衔坭之象。凡事劳心费力也。",
        explanation: "千般用计。晨昏不停。谁知此事。到底劳心。"
    },
    {
        id: 4,
        title: "玉莲会十朋",
        type: "上签子宫",
        poetry: "千年古镜复重圆。女再求夫男再婚。自此门庭重改换。更添福禄在儿孙。",
        meaning: "此卦古镜重圆之象。凡事劳心有贵也。",
        explanation: "淘沙成金。骑龙踏虎。虽是劳心。于中有补。"
    },
    {
        id: 5,
        title: "刘晨遇仙",
        type: "中签丑宫",
        poetry: "一锥草地要求泉。努力求之得最难。无意俄然遇知己。相逢携手上青天。",
        meaning: "此卦锥地求泉之象。凡事先难后易也。",
        explanation: "欲望心事。西方可求。不如莫动。立地可谋。"
    },
    {
        id: 6,
        title: "仁贵遇主",
        type: "中签丑宫",
        poetry: "投身岩下铜鸟居。须是还他大丈夫。拾得营谋谁可得。通行天地此人无。",
        meaning: "此卦投岩铜鸟之象。凡事宜顺吉之兆。",
        explanation: "食用无余。身清岂贫。待时利乐。改旧从新。"
    },
    {
        id: 7,
        title: "苏娘走难",
        type: "下签丑宫",
        poetry: "奔波阻隔重重险。带水拖泥去度山。更望他乡求用事。千山万水未回还。",
        meaning: "此卦拖泥带水之象。凡事守旧则吉也。",
        explanation: "退身可得。进步为难。只宜守旧。莫望高扳。"
    },
    {
        id: 8,
        title: "姚能遇仙",
        type: "上签丑宫",
        poetry: "茂林松柏正兴旺。雨雪风霜总莫为。异日忽然鸿鹄至。东南西北任君飞。",
        meaning: "此卦松柏茂林之象。凡事有贵气也。",
        explanation: "路上亨通。终身有功。田蚕丰熟。家道兴隆。"
    },
    {
        id: 9,
        title: "孔明点将",
        type: "上签寅宫",
        poetry: "烦君勿作私心事。此意偏宜说问公。一片明心光皎洁。宛如皎月正天中。",
        meaning: "此卦皎月当空之象。凡事光明通气也。",
        explanation: "心中正直。理顺法宽。圣无私语。终有分明。"
    },
    {
        id: 10,
        title: "庞涓观阵",
        type: "下签寅宫",
        poetry: "石藏无价玉和珍。只管他乡外客寻。宛如持灯更觅火。不如收拾枉劳心。",
        meaning: "此卦持灯觅火之象。凡事待时成就也。",
        explanation: "姻缘会遇。何事不成。须无别意。眼前是真。"
    },
    {
        id: 11,
        title: "书荐姜维",
        type: "上签寅宫",
        poetry: "欲求胜事可非常。争奈亲姻日暂忙。到头竟必成鹿箭。贵人指引贵人乡。",
        meaning: "此卦因祸得福之象。凡事营谋吉利也。",
        explanation: "有意兴变。到底安然。若问用事。只近贵人。"
    },
    {
        id: 12,
        title: "武吉遇师",
        type: "上签寅宫",
        poetry: "否去泰来咫尺间。暂交君子出于山。若逢虎兔佳音信。立志忙中事即闲。",
        meaning: "此卦祸中有福之象。凡事先凶后吉也。",
        explanation: "换麻得丝。击人双足。要见分明。因灾得福。"
    },
    {
        id: 13,
        title: "姜公钓鱼",
        type: "中签寅宫",
        poetry: "自小生在富贵家。眼前万物总奢华。蒙君赐紫金角带。四海声名定可夸。",
        meaning: "此卦龙门得通之象。凡事有变大吉也。",
        explanation: "囚徒得赦。病遇良医。龙门得过。名显皇都。"
    },
    {
        id: 14,
        title: "子牙弃官",
        type: "中签卯宫",
        poetry: "宛如仙鹤出凡笼。脱却凡尘路路通。南北东西无阻隔。任君直上九霄宫。",
        meaning: "此卦仙鹤离笼之象。凡事先忧后吉也。",
        explanation: "任意无虞。路有亨通。随心自在。逍遥如人。"
    },
    {
        id: 15,
        title: "苏秦得志",
        type: "中签卯宫",
        poetry: "行人跚跚难寻。行人路中有阻隔。登山涉水恨悠悠。未得安稳只恐忧。",
        meaning: "此卦登山涉水之象。凡事有阻隔也。",
        explanation: "路上迢迢。行人未到。无些阻碍。自有功劳。"
    },
    {
        id: 16,
        title: "叶梦熊朝帝",
        type: "中签卯宫",
        poetry: "愁眉思虑暂时开。启出云霄喜自来。宛如粪土中藏玉。良工荐举出尘埃。",
        meaning: "此卦阴阳和合之象。凡事所谋可成也。",
        explanation: "得处无失。损中有益。小人逢凶。君子顺吉。"
    },
    {
        id: 17,
        title: "曹操话梅止渴",
        type: "下签卯宫",
        poetry: "莫听闲言说是非。晨昏只好念阿弥。若将妄语为真实。画饼如何止得饥。",
        meaning: "此卦画饼充饥之象。凡事多虚少实也。",
        explanation: "心中不定。枉费看经。只是画饼。徒自劳神。"
    },
    {
        id: 18,
        title: "曹国舅为仙",
        type: "上签卯宫",
        poetry: "金乌西坠兔东升。日夜循环至古今。僧道得知无不利。士农工商各从心。",
        meaning: "此卦阴阳消长之象。凡事遂意之兆也。",
        explanation: "心中无事。所作有功。如弓上箭。一时当空。"
    },
    {
        id: 19,
        title: "子仪封王",
        type: "上签辰宫",
        poetry: "急水滩头放船归。风波作浪欲何为。若要安然求稳地。等待浪静过此危。",
        meaning: "此卦船行急滩之象。凡事守旧待时也。",
        explanation: "急水登舟。静待浪平。心中用事。贵人重重。"
    },
    {
        id: 20,
        title: "姜太公遇文王",
        type: "上签辰宫",
        poetry: "当春久雨喜开晴。玉兔金乌渐渐明。旧事消散新事遂。看看一跳过龙门。",
        meaning: "此卦久雨初晴之象。凡事遂意也。",
        explanation: "神佛护持。有灾无危。途生平安。到底荣归。"
    },
    {
        id: 21,
        title: "李旦龙凤配合",
        type: "上签辰宫",
        poetry: "阴阳道合总由天。女嫁男婚喜偎然。但见龙蛇相会合。熊罴入梦乐团圆。",
        meaning: "此卦阴阳道合之象。凡事和合大吉也。",
        explanation: "谋望从心。婚姻孕男。资财进益。更利田蚕。"
    },
    {
        id: 22,
        title: "六郎逢救",
        type: "下签辰宫",
        poetry: "旱时田里皆枯槁。谢天甘雨落淋淋。花果草木皆润泽。始知一雨值千金。",
        meaning: "此卦旱逢甘雨之象。凡事难中有救也。",
        explanation: "田蚕倍熟。命运渐来。病遇良医。行人便回。"
    },
    {
        id: 23,
        title: "怀德招亲",
        type: "中签巳宫",
        poetry: "欲攀仙桂蟾宫路。岂虑天门不开放。谋望一般音信好。高人自送岭头来。",
        meaning: "此卦手扳仙桂之象。凡事必有贵人也。",
        explanation: "商贾利益。行藏无危。病安讼理。尽可施为。"
    },
    {
        id: 24,
        title: "殷郊遇师",
        type: "下签巳宫",
        poetry: "不成邻里不成家。水泡痴人似落花。若问君恩难得力。到头毕竟事如麻。",
        meaning: "此卦痴人逐块之象。凡事守旧待时也。",
        explanation: "宅舍不稳。自身平常。求财未遂。更忌动土。"
    },
    {
        id: 25,
        title: "姚能受职",
        type: "上签巳宫",
        poetry: "过了忧危第几重。从今再历永无凶。宽心自有宽心计。得遇高人护圣功。",
        meaning: "此卦古镜重圆之象。凡事有贵人也。",
        explanation: "出入营谋。贵人相扶。灾厄不相惹。渐入安途。"
    },
    {
        id: 26,
        title: "钟馗得道",
        type: "中签巳宫",
        poetry: "上下传来事总虚。天边接得一封书。书中许我功名事。直待终时亦是虚。",
        meaning: "此卦虚名之象。凡事虚多少实也。",
        explanation: "上下心烦。求闲不闲。欲望功名。守旧身安。"
    },
    {
        id: 27,
        title: "刘基谏主",
        type: "上签午宫",
        poetry: "一谋一用一番书。虑后思前不敢为。时到贵人相助力。如山墙立可安居。",
        meaning: "此卦屋好墙壁之象。凡事稳当无险也。",
        explanation: "改旧成新。寒花遇春。从前阻滞。今得称心。"
    },
    {
        id: 28,
        title: "李后寻包拯",
        type: "上签午宫",
        poetry: "东边月上正蝉娟。顷刻云遮亦暗存。或有圆时还有缺。更言非者亦闲言。",
        meaning: "此卦月被云遮之象。凡事昏迷未定也。",
        explanation: "浮云遮月。不须疑惑。等待云收。便见明白。"
    },
    {
        id: 29,
        title: "赵子龙救阿斗",
        type: "中签午宫",
        poetry: "宝剑出匣耀光明。在匣全然不惹尘。今得贵人携出现。有威有势众人钦。",
        meaning: "此卦宝剑出匣之象。凡事有威有势也。",
        explanation: "宝剑出匣。光明四海。贵人指引。无不称心。"
    },
    {
        id: 30,
        title: "棋盘大会",
        type: "中签午宫",
        poetry: "劝君切莫向他求。似鹤飞来暗箭投。若去采薪蛇在草。恐遭毒口也忧愁。",
        meaning: "此卦安份守己之象。凡事小心谨防也。",
        explanation: "开口合齿。闭事莫理。若是生心。到头害己。"
    },
    {
        id: 31,
        title: "佛印会东坡",
        type: "中签午宫",
        poetry: "清闲无事静处坐。饥时吃饭困时卧。放下身心不用忙。必定不遭殃与祸。",
        meaning: "此卦守旧安然之象。凡事时待时则吉也。",
        explanation: "道心佛心。二人同心。居家宅舍。必得安宁。"
    },
    {
        id: 32,
        title: "刘备求贤",
        type: "中签未宫",
        poetry: "前程杳杳定无疑。石中藏玉有谁知。一朝良匠分明剖。始觉安然碧玉期。",
        meaning: "此卦剖石见玉之象。凡事着力成功也。",
        explanation: "宝在石中。异人少知。直待分明。尽可施为。"
    },
    {
        id: 33,
        title: "咬金聘仁贵",
        type: "中签未宫",
        poetry: "内藏无价宝和珍。得玉何须外界寻。不如等待高人识。宽心犹且更宽心。",
        meaning: "此卦藏玉外寻之象。凡事守旧待时也。",
        explanation: "内藏金玉。不识外寻。遇贵指引。不须劳心。"
    },
    {
        id: 34,
        title: "文中魁星",
        type: "中签未宫",
        poetry: "行藏出入礼义恭。言必忠良信必聪。心不了然且静澈。光明红日正当中。",
        meaning: "此卦红日当空之象。凡事自有贵人相助也。",
        explanation: "心中无事。秋水澄清。在欲不染。有祸不成。"
    },
    {
        id: 35,
        title: "唐僧取经",
        type: "上签申宫",
        poetry: "衣冠重整旧家风。道是无穷却有功。扫却当途荆棘刺。三人约议再和同。",
        meaning: "此卦衣冠重整之象。凡事先难后易也。",
        explanation: "不用忧疑。自有佳期。若问前程。前路可宜。"
    },
    {
        id: 36,
        title: "湘子遇宝",
        type: "上签申宫",
        poetry: "眼前病讼不须忧。宝地资财尽可求。恰似猿猴金锁脱。自归山洞去来游。",
        meaning: "此卦猿猴脱锁之象。凡事先凶后吉也。",
        explanation: "脱除了难。家宅安吉。求财遂意。行人未至。"
    },
    {
        id: 37,
        title: "李靖归山",
        type: "中签申宫",
        poetry: "欲待身安动泰时。风中灯烛不相宜。不如收拾深堂坐。庶几光瑶静处期。",
        meaning: "此卦风摇灯烛之象。凡事守旧则吉也。",
        explanation: "静处安身。待时守旧。惹非招灾。定在牛后。"
    },
    {
        id: 38,
        title: "何文秀遇难",
        type: "中签申宫",
        poetry: "镜月当空出匣时。刹那间云雾迷。宽心守待浮云散。更改相宜可望为。",
        meaning: "此卦云雾遮月之象。凡事未遂守旧也。",
        explanation: "家道忧凶。人口有灾。祈福保庆。犹恐破财。"
    },
    {
        id: 39,
        title: "姜女寻夫",
        type: "下签申宫",
        poetry: "天边消息实难思。切莫多心望强求。若把石头磨作镜。精神枉费一时休。",
        meaning: "此卦守常安静之象。凡事守己则吉也。",
        explanation: "千般用计。徒劳无功。不如守旧。著力营工。"
    },
    {
        id: 40,
        title: "武则天登位",
        type: "上签酉宫",
        poetry: "红轮西坠兔东升。阴长阳消百事亭。若是女人宜望用。增添财禄福其心。",
        meaning: "此卦阴阳消长之象。凡事遂意之兆也。",
        explanation: "阴利女人。不宜男子。若是求谋。先凶后吉。"
    },
    {
        id: 41,
        title: "董卓收吕布",
        type: "中签酉宫",
        poetry: "无限好语君须记。却为隐贼做知己。莫贪眼下有些甜。可虑他时还受苦。",
        meaning: "此卦莫贪小利之象。凡事守旧则吉也。",
        explanation: "割肉成疮。自己招殃。只宜守旧。庶免灾殃。"
    },
    {
        id: 42,
        title: "目莲救母",
        type: "上签酉宫",
        poetry: "君皇圣后总为恩。复待祈祷无损增。一切有情皆受用。人间天下得均平。",
        meaning: "此卦天垂恩泽之象。凡事成就大吉也。",
        explanation: "天皇恩泽。始终莫忘。晨昏礼念。可宜烧香。"
    },
    {
        id: 43,
        title: "行者得道",
        type: "上签酉宫",
        poetry: "天地变通万物全。自荣自养自安然。生罗万象皆精彩。事事如心谢圣贤。",
        meaning: "此卦大地交泰之象。凡事大吉无危也。",
        explanation: "天生万物。谋望皆通。福德相助。瑞气匆匆。"
    },
    {
        id: 44,
        title: "姜维邓艾斗阵",
        type: "中签酉宫",
        poetry: "棋逢敌手著相宜。黑白盘中未决时。皆因一著知胜败。须教自有好推移。",
        meaning: "此卦棋逢敌手之象。凡事用机关则吉也。",
        explanation: "欲求心事。恰如围棋。到底胜败。宜用心机。"
    },
    {
        id: 45,
        title: "鲁仲连排难解纷",
        type: "上签戌宫",
        poetry: "温柔自古胜刚强。积善之门大吉昌。若是有人占此卦。宛如正渴遇琼浆。",
        meaning: "此卦积善温柔之象。凡事贵人和合也。",
        explanation: "天地有感。应验非常。佛神护佑。得之莫忘。"
    },
    {
        id: 46,
        title: "赵括纸上谈兵",
        type: "中签戌宫",
        poetry: "劝君耐守旧生涯。把定心肠勿起歹。直待有人轻著力。满园枯木再开花。",
        meaning: "此卦枯木生花之象。凡事自有成就也。",
        explanation: "守旧守旧。事自成就。动则多殃。静则无咎。"
    },
    {
        id: 47,
        title: "梁灏登科",
        type: "上签戌宫",
        poetry: "锦上添花色愈鲜。运来禄马喜双全。时人莫恨功名晚。一举登科四海传。",
        meaning: "此卦锦上添花之象。凡事大吉大利也。",
        explanation: "守旧变新。复有双营。平生志愿。皆由命亨。"
    },
    {
        id: 48,
        title: "韩信挂帅",
        type: "上签戌宫",
        poetry: "昆鸟秋来化作鹏。好游快乐喜飞腾。翱翔万里云霄去。余外诸禽总不能。",
        meaning: "此卦昆鹏兴变之象。凡事有变动大吉也。",
        explanation: "昆鸟化鹏。万禽不能。桂香一折。福禄自增。"
    },
    {
        id: 49,
        title: "王祥求鲤",
        type: "中签亥宫",
        poetry: "天寒地冻水成冰。何须贪吝取功名。只好守己静处坐。待时兴变自然明。",
        meaning: "此卦水结成冰之象。凡事不用枉求也。",
        explanation: "水冻成冰。不是目前。若问前程。且待春天。"
    },
    {
        id: 50,
        title: "陶朱归五湖",
        type: "上签亥宫",
        poetry: "五湖四海任君行。高挂帆篷自在撑。若得顺风随即至。满船宝贝喜层层。",
        meaning: "此卦顺风得利之象。凡事营谋大吉也。",
        explanation: "自有兴时。身强力健。入门大吉。百事亨通。"
    },
    {
        id: 51,
        title: "孔明入川",
        type: "上签亥宫",
        poetry: "夏日炎天日最长。人人愁热闷非常。天地也解知人意。熏风拂拂自然凉。",
        meaning: "此卦人人愁热之象。凡事随心从意也。",
        explanation: "进退莫疑。自有佳期。营谋用事。不须妄为。"
    },
    {
        id: 52,
        title: "太白醉捞明月",
        type: "中签亥宫",
        poetry: "水中捉月费功夫。费尽功夫却又无。莫说闲言并乱语。枉劳心力强身孤。",
        meaning: "此卦贪求费力之象。凡事守旧待时也。",
        explanation: "言语难思。费力劳心。欲求不遂。弄巧成拙。"
    },
    {
        id: 53,
        title: "刘备招亲",
        type: "中签子宫",
        poetry: "失意反成得意时。龙吟虎啸两相宜。青天自有通宵路。许我功名再有期。",
        meaning: "此卦龙吟虎啸之象。凡事顺意有望也。",
        explanation: "教去即去。教住即住。口有亨通。到头必利。"
    },
    {
        id: 54,
        title: "马超追曹",
        type: "下签子宫",
        poetry: "梦中得宝醒时无。自谓南山只是锄。若问婚姻并问事。守旧待时切莫图。",
        meaning: "此卦梦中得宝之象。凡事枉费心力也。",
        explanation: "物在水中。形影长短。皆由分定。不用商量。"
    },
    {
        id: 55,
        title: "周武王登位",
        type: "上签丑宫",
        poetry: "父贤传子子传孙。衣食丰隆只靠天。堂上椿萱人快乐。饥饭渴饮因时眠。",
        meaning: "此卦接竹引泉之象。凡事谋望大吉也。",
        explanation: "接竹引泉。流传不绝。君子谋望。无不欣悦。"
    },
    {
        id: 56,
        title: "禄山谋反",
        type: "中签丑宫",
        poetry: "滩小石溪流水响。风清明月贵人忙。路须借问何方去。休取林中花草香。",
        meaning: "此卦滩小石溪之象。凡事守旧则吉也。",
        explanation: "营谋用事。劳心费力。守旧待时。凡事大吉。"
    },
    {
        id: 57,
        title: "董仲寻亲",
        type: "中签丑宫",
        poetry: "说是说非风过耳。好衣好禄自当中。君莫记取他年事。汝意还如我意同。",
        meaning: "此卦孩儿见母之象。凡事贵人大吉也。",
        explanation: "所用谋望。皆大欢喜。从公用力。如子逢娘。"
    },
    {
        id: 58,
        title: "文王问卜",
        type: "中签丑宫",
        poetry: "直言说话君须记。莫在他乡求别艺。切须守己旧生涯。除是其余都不利。",
        meaning: "此卦守旧待时之象。凡事不如意也。",
        explanation: "得住且住。可取且踞。宜守旧路。莫望新路。"
    },
    {
        id: 59,
        title: "张良隐山",
        type: "中签亥宫",
        poetry: "直上重楼去藏身。四围荆棘绕为林。天高君命长和短。得一番成失二人。",
        meaning: "此卦守旧随时之象。凡事待时则吉也。",
        explanation: "如醉饮酒。只宜守旧。直待时来。无灾无咎。"
    },
    {
        id: 60,
        title: "赤壁鏖兵",
        type: "中签亥宫",
        poetry: "抱薪救火火增烟。烧却三千及大千。若问营谋并出入。不如收拾莫忧煎。",
        meaning: "此卦抱薪救火之象。凡事亦自谨防也。",
        explanation: "千般计较。一旦皆休。不如守旧。必定无忧。"
    },
    {
        id: 61,
        title: "苏小妹难夫",
        type: "中签亥宫",
        poetry: "日上吟诗月下歌。逢场作戏笑呵呵。相逢会遇难藏避。唱彩齐唱嗹哩罗。",
        meaning: "此卦阴阳和合之象。凡事所谋可成也。",
        explanation: "知音方许。闲事莫理。待得贵人。无不欢喜。"
    },
    {
        id: 62,
        title: "唐僧得道",
        type: "中签亥宫",
        poetry: "晨昏全赖佛扶持。虽是逢危且不危。若得贵人来接引。此时福禄自相随。",
        meaning: "此卦星移斗转之象。凡事劳心费力也。",
        explanation: "欲求胜事。非常劳心。若要兴旺。却待天命。"
    },
    {
        id: 63,
        title: "女娲氏炼石",
        type: "中签卯宫",
        poetry: "昔日行船失了针。今朝依旧海中寻。若然寻得原针在。也费工夫也费心。",
        meaning: "此卦海中寻针之象。凡事劳心费力也。",
        explanation: "福是缘基。缘是福种。种得福缘。忧事可管。"
    },
    {
        id: 64,
        title: "马前覆水",
        type: "下签卯宫",
        poetry: "游鱼却在碧波池。撞遭罗网四边围。思量无计翻身出。事到头来惹事非。",
        meaning: "此卦鱼遭罗网之象。凡事亦宜提防也。",
        explanation: "屋下安身。祸从天降。早觉先防。免遭灾殃。"
    },
    {
        id: 65,
        title: "孙膑困庞涓",
        type: "中签卯宫",
        poetry: "眼前欢喜未为欢。亦不危时亦不安。割肉补疮为甚事。不如守旧待时光。",
        meaning: "此卦割肉补疮之象。凡事只宜守旧也。",
        explanation: "知止则止。知宽则宽。割自身肉。疾痛一般。"
    },
    {
        id: 66,
        title: "霸王被困",
        type: "下签卯宫",
        poetry: "路险马乏人行急。失阵单卒困相当。滩高风浪船棹破。日暮花残天降霜。",
        meaning: "此卦船破下滩之象。凡事险阻提防也。",
        explanation: "守旧守旧。安心无咎。不用求谋。自在优游。"
    },
    {
        id: 67,
        title: "金星试窦儿",
        type: "中签卯宫",
        poetry: "一条金线秤君心。无减无增无重轻。为人平生心正直。文章全贝艺光明。",
        meaning: "此卦心平正直之象。凡事安稳无凶也。",
        explanation: "心平正直。到底清平。只依本份。天下太平。"
    },
    {
        id: 68,
        title: "钱玉莲投江",
        type: "中签卯宫",
        poetry: "门庭吉庆喜非常。积善之门大吉昌。婚姻田蚕诸事遂。病逢妙药得安康。",
        meaning: "此卦春梦百花之象。凡事遇贵人大吉也。",
        explanation: "春深日暖。百花自开。事莫迟疑。从人显达。"
    },
    {
        id: 69,
        title: "梅开二度",
        type: "中签辰宫",
        poetry: "冬来岭上一枝梅。叶落枝枯总不摧。但得阳春悄急至。依然还我作花魁。",
        meaning: "此卦梅花占魁之象。凡事宜迟则吉也。",
        explanation: "一箭射空。当空不空。待等春来。彩在其中。"
    },
    {
        id: 70,
        title: "李密反唐",
        type: "下签辰宫",
        poetry: "朝朝恰似采花蜂。飞出西南又走东。春尽花残无觅处。此心不变旧行踪。",
        meaning: "此卦蜜蜂采花之象。凡事劳心费力也。",
        explanation: "无觅春色。幼劳千日。冬烘笑我。空自劳力。"
    },
    {
        id: 71,
        title: "文君访相如",
        type: "中签辰宫",
        poetry: "喜鹊檐前报好音。知君千里欲归心。绣帏重结鸳鸯带。叶落霜凋暮色侵。",
        meaning: "此卦鹊报好音之象。凡事皆可宜也。",
        explanation: "功名成就。生意鼎盛。婚姻可成。占讼即胜。"
    },
    {
        id: 72,
        title: "王莽求贤",
        type: "下签辰宫",
        poetry: "养蜂须用求他蜜。只怕遭触尾上针。须是眼前有异路。暗里如荆一般同。",
        meaning: "此卦蜂采花蕊之象。凡事劳心费力也。",
        explanation: "事须仔细。不用强求。结蜂采蜜。有甚来由。"
    },
    {
        id: 73,
        title: "王昭君忆汉帝",
        type: "下签辰宫",
        poetry: "忆昔兰房分半钗。而今忽把信音乖。痴心指望成连理。到底谁知事不谐。",
        meaning: "此卦鱼吞钩饵之象。凡事亦宜守旧也。",
        explanation: "事不及防。物极则反。凡所谋望。宜待时变。"
    },
    {
        id: 74,
        title: "崔武求官",
        type: "中签巳宫",
        poetry: "宛如抱虎过高山。战战竞竞胆碎寒。幸得山前逢妙手。方能保得一身安。",
        meaning: "此卦抱虎过山之象。凡事险凶惊恐也。",
        explanation: "惊险重重。前程有阻。若问求谋。到底辛苦。"
    },
    {
        id: 75,
        title: "伍员夜出昭关",
        type: "下签巳宫",
        poetry: "恰如拖虎过高山。战战竞竞胆碎寒。不觉忽然从好事。切须保守一身安。",
        meaning: "此卦抱财过山之象。凡事惊恐大凶也。",
        explanation: "危危险险。前程有阻。若问求谋。到底辛苦。"
    },
    {
        id: 76,
        title: "洪武看牛",
        type: "中签巳宫",
        poetry: "鱼龙混杂意相同。耐守深潭待运通。不觉一朝头耸出。禹门一跳过龙宫。",
        meaning: "此卦鱼龙未变之象。凡事待时至可也。",
        explanation: "虽是滋基。也要待时。营谋出入。切莫妄为。"
    },
    {
        id: 77,
        title: "捧璧归赵",
        type: "中签巳宫",
        poetry: "梦中说得是多财。声名云外总虚来。水远山遥难信定。贵人一指笑颜开。",
        meaning: "此卦梦中得宝之象。凡事虚多少实也。",
        explanation: "如说梦话。何日可休。直待贵人。真实不虚。"
    },
    {
        id: 78,
        title: "袁安守困",
        type: "中签午宫",
        poetry: "冷水未烧白涕汤。不寒不热有温凉。要行天下无他事。为有身中百艺强。",
        meaning: "此卦平善用事之象。凡事平稳大吉也。",
        explanation: "囚人逢赦。病遇良医。求财谋望。贵人指引。"
    },
    {
        id: 79,
        title: "暗扶倒铜旗",
        type: "中签午宫",
        poetry: "虚空结愿保平安。保得身安愿不还。莫忘神圣宜还了。岂知洪语在身边。",
        meaning: "此卦信实莫信虚之象。凡事守旧之兆也。",
        explanation: "人有我见。心不用忙。观音指示。切莫轻忘。"
    },
    {
        id: 80,
        title: "智远投军",
        type: "上签未宫",
        poetry: "直上仙岩要学仙。此知一旦帝王宣。青天日月常明照。心正声名四海传。",
        meaning: "此卦贵人接引之象。凡事和合大吉也。",
        explanation: "有始有终。莫向西东。心中用事。贵人重重。"
    },
    {
        id: 81,
        title: "风送膝王阁",
        type: "上签未宫",
        poetry: "梧桐叶落秋将暮。行客归程去似飞。谢得天公高著力。顺风船载宝珍归。",
        meaning: "此卦梧桐叶落之象。凡事先凶后吉也。",
        explanation: "心中取事。天心从之。营谋用事。尽可施为。"
    },
    {
        id: 82,
        title: "孔子修身",
        type: "上签未宫",
        poetry: "炎炎烈火焰连天。焰里还生一朵莲。到底得成终不害。依然生叶长根枝。",
        meaning: "此卦火中生莲之象。凡事似险非险也。",
        explanation: "虽是危险。不伤其身。营谋用事。贵人相扶。"
    },
    {
        id: 83,
        title: "诸葛孔明学道",
        type: "中签未宫",
        poetry: "譬若初三四五月。半有半无未完全。等待十五良宵夜。到处光明到处圆。",
        meaning: "此卦月缺未圆之象。凡事守旧待时也。",
        explanation: "守旧待时。如月初出。待等圆时。无有不吉。"
    },
    {
        id: 84,
        title: "庄子试妻",
        type: "中签未宫",
        poetry: "因名丧德如何事。切恐吉中变化凶。酒醉不知何处去。青松影里梦朦胧。",
        meaning: "此卦寒鱼离水之象。凡事不可移动也。",
        explanation: "寒鱼离水。美中不足。若问求谋。不如莫动。"
    },
    {
        id: 85,
        title: "韩信战霸王",
        type: "上签申宫",
        poetry: "重开山后藏前事。万宝园中可再立。不妨作福修因果。从此门庭喜事新。",
        meaning: "此卦古镜重圆之象。凡事劳心有贵也。",
        explanation: "淘沙成金。骑龙踏虎。虽是劳心。于中有补。"
    },
    {
        id: 86,
        title: "商辂中三元",
        type: "上签申宫",
        poetry: "春来花发映阳台。万里舟行进宝来。跃过禹门三级浪。恰如平地一声雷。",
        meaning: "此卦鱼龙变化之象。凡事有贵人助也。",
        explanation: "自小至大。无凶无祸。囚人遇赦。病遇良医。"
    },
    {
        id: 87,
        title: "咬金探地穴",
        type: "中签申宫",
        poetry: "人行半岭日衔山。峻岭崖岩未可安。仰望上天垂护佑。此身犹在太虚间。",
        meaning: "此卦淘沙见金之象。凡事有贵人之兆也。",
        explanation: "家住灵山。莫说真言。有人问我。牢把心猿。"
    },
    {
        id: 88,
        title: "庞德投曹",
        type: "中签酉宫",
        poetry: "木为一虎在当门。须是有威不害人。分明说是无防事。忧恼迟疑恐惧心。",
        meaning: "此卦道傍有虎之象。凡事凶险惊恐也。",
        explanation: "宅下不稳。夜梦颠倒。谋事不成。勿望外求。"
    },
    {
        id: 89,
        title: "大看瑶花",
        type: "上签酉宫",
        poetry: "出入营谋大吉昌。无瑕玉在石中藏。如今幸得高人指。获宝从心喜不常。",
        meaning: "此卦石藏珍宝之象。凡事称心大吉也。",
        explanation: "家宅得吉。自身安泰。求财遂意。有贵人扶。"
    },
    {
        id: 90,
        title: "苇佩遇仙",
        type: "上签酉宫",
        poetry: "忽言一信向天飞。泰山宝贝满船归。若问路途成好事。前头仍有贵人推。",
        meaning: "此卦功名成就之象。凡事进身大吉也。",
        explanation: "若问功名。前有贵人。更添喜气。财禄丰盈。"
    },
    {
        id: 91,
        title: "薛仁贵投军",
        type: "上签酉宫",
        poetry: "好把愁眉须展开。大才大用荐将来。一条大路平如掌。凡有施为总称怀。",
        meaning: "此卦前程有路之象。凡事求谋大吉也。",
        explanation: "一条大路。可向前行。心中用事。贵人重重。"
    },
    {
        id: 92,
        title: "蔡卿报恩",
        type: "上签戌宫",
        poetry: "经商得利称心怀。福禄荣华倍获财。若问进身谋望事。秀才一举状元回。",
        meaning: "此卦鱼龙变化之象。凡事有贵人助也。",
        explanation: "营谋用事。劳心费力。守旧待时。凡事大吉。"
    },
    {
        id: 93,
        title: "邵康节定阴阳",
        type: "上签戌宫",
        poetry: "鸾凤翔毛雨淋漓。当时却被雀儿欺。终教一日云开散。依旧还君整羽衣。",
        meaning: "此卦鸾凤被雨之象。凡事待时大利也。",
        explanation: "小人日盛。君子莫为。只宜守己。待时施为。"
    },
    {
        id: 94,
        title: "伯牙访友",
        type: "中签酉宫",
        poetry: "君子莫惜当时闲。鱼龙混杂意无妨。到头若得真消息。万里风云咫尺间。",
        meaning: "此卦鱼龙混杂之象。凡事暗昧不明也。",
        explanation: "闲非莫管。好事难成。若问用事。只宜守旧。"
    },
    {
        id: 95,
        title: "张文远求官",
        type: "中签戌宫",
        poetry: "事业功勤日渐新。资财涌进异常人。宜将道德修来福。滚滚财源萃此身。",
        meaning: "此卦积福之象。凡事营谋吉利也。",
        explanation: "名利双收。绿柳堤畔。贵人指引。无不欢欣。"
    },
    {
        id: 96,
        title: "窦燕山登科",
        type: "上签亥宫",
        poetry: "巍巍宝塔不寻常。八面玲珑尽放光。劝君立志勤顶礼。作善苍天降福祥。",
        meaning: "此卦福德现身之象。凡事大吉利也。",
        explanation: "这些福力。善事可做。谋望从心。福禄自增。"
    },
    {
        id: 97,
        title: "寇准抱太子",
        type: "中签亥宫",
        poetry: "五十功名心已灰。那知富贵逼人来。更行好事存方寸。寿比冈陵位鼎台。",
        meaning: "此卦功名成就之象。凡事大吉大利也。",
        explanation: "作善降祥。作恶降殃。人有善愿。天必从之。"
    },
    {
        id: 98,
        title: "薛仁贵投军",
        type: "上签亥宫",
        poetry: "出入行藏礼义恭。言必忠良信必聪。心不了然且静澈。光明红日正当中。",
        meaning: "此卦红日当空之象。凡事自有贵人助也。",
        explanation: "心中无事。秋水澄清。在欲不染。有祸不成。"
    },
    {
        id: 99,
        title: "陶渊明赏菊",
        type: "上签亥宫",
        poetry: "等闲骑马着鞭来。半有忧危半有财。似火方烧头上屋。天教一雨荡殃灾。",
        meaning: "此卦似火上添油之象。凡事守旧待时也。",
        explanation: "终身劳力。财帛耗散。若问求谋。去时不定。"
    },
    {
        id: 100,
        title: "三教谈道",
        type: "上签亥宫",
        poetry: "佛神灵通与君知。痴人说事转昏迷。老人求得灵签去。不如守旧待来时。",
        meaning: "此卦守常勿动之象。凡事守旧则吉也。",
        explanation: "老人求得。不如守旧。若问用事。且待时利。"
    }
];

// 导出数据库供其他文件使用
if (typeof module !== 'undefined' && module.exports) {
    module.exports = guanyinLotteryData;
}
</script>

<script>
// 观音灵签主逻辑
class SimpleGuanyinLottery {
  constructor() {
    this.mainCard = document.getElementById('main-card');
    this.resultCard = document.getElementById('result-card');
    
    this.prayerContent = document.getElementById('prayer-content');
    this.shakingContent = document.getElementById('shaking-content');
    this.confirmationContent = document.getElementById('confirmation-content');
    
    this.cupResult = document.getElementById('cup-result');
    this.actionBtn = document.getElementById('action-btn');
    this.restartBtn = document.getElementById('restart-btn');
    
    this.init();
  }

  init() {
    document.getElementById('start-prayer-btn').addEventListener('click', () => {
      this.startPrayer();
    });

    this.actionBtn.addEventListener('click', () => {
      this.handleAction();
    });

    this.restartBtn.addEventListener('click', () => {
      this.restartLottery();
    });
  }

  switchContent(contentName) {
    // 隐藏所有内容
    this.prayerContent.classList.remove('active');
    this.shakingContent.classList.remove('active');
    this.confirmationContent.classList.remove('active');
    
    // 显示指定内容
    switch(contentName) {
      case 'shaking':
        this.shakingContent.classList.add('active');
        break;
      case 'confirmation':
        this.confirmationContent.classList.add('active');
        break;
      default:
        this.prayerContent.classList.add('active');
    }
  }

  startPrayer() {
    // 隐藏签文卡片
    this.resultCard.classList.remove('active');
    this.mainCard.style.display = 'block';
    
    // 重置按钮状态和签筒状态
    this.actionBtn.style.display = 'none';
    const tube = document.getElementById('tube');
    tube.classList.remove('shaking', 'stick-visible');
    
    // 开始摇签
    this.switchContent('shaking');
    this.startShakingAnimation();
  }

  startShakingAnimation() {
    const tube = document.getElementById('tube');
    tube.classList.remove('shaking', 'stick-visible');
    // 强制重排
    void tube.offsetHeight;
    tube.classList.add('shaking');
    
    setTimeout(() => {
      tube.classList.remove('shaking');
      tube.classList.add('stick-visible');
      // 签条弹出后停留1秒再加载下一个画面
      setTimeout(() => {
        this.performDivineConfirmation();
      }, 1000);
    }, 3000);
  }

  performDivineConfirmation() {
    this.switchContent('confirmation');
    // 先清空杯子内容，避免闪现
    document.getElementById('cup1').querySelector('svg').innerHTML = '';
    document.getElementById('cup2').querySelector('svg').innerHTML = '';
    document.getElementById('cup1').querySelector('.cup-label').textContent = '';
    document.getElementById('cup2').querySelector('.cup-label').textContent = '';
    this.cupResult.textContent = '';
    setTimeout(() => {
      this.showCupResult();
    }, 1000);
  }

  showCupResult() {
    const cup1Container = document.getElementById('cup1');
    const cup2Container = document.getElementById('cup2');
    
    const results = [
      { 
        cup1: 'convex', 
        cup2: 'flat', 
        text: '圣杯 - 阴阳相合，求事有成',
        label1: '凸面朝上',
        label2: '平面朝上',
        type: 'holy'
      },
      { 
        cup1: 'convex', 
        cup2: 'convex', 
        text: '笑杯 - 心意未定，诚心再求',
        label1: '凸面朝上',
        label2: '凸面朝上',
        type: 'smile'
      },
      { 
        cup1: 'flat', 
        cup2: 'flat', 
        text: '阴杯 - 时机未到，静待佳期',
        label1: '平面朝上',
        label2: '平面朝上',
        type: 'yin'
      },
      { 
        cup1: 'flat', 
        cup2: 'convex', 
        text: '圣杯 - 阴阳相合，求事有成',
        label1: '平面朝上',
        label2: '凸面朝上',
        type: 'holy'
      }
    ];
    
    const result = results[Math.floor(Math.random() * results.length)];
    
    // 先设置杯子图形
    cup1Container.querySelector('svg').innerHTML = this.getCupSVG(result.cup1);
    cup2Container.querySelector('svg').innerHTML = this.getCupSVG(result.cup2);
    
    // 清空文字，等动画结束后再显示
    this.cupResult.textContent = '';
    cup1Container.querySelector('.cup-label').textContent = '';
    cup2Container.querySelector('.cup-label').textContent = '';
    
    // 执行旋转动画
    this.animateCups(cup1Container.querySelector('svg'), cup2Container.querySelector('svg'));
    
    // 动画结束后（800ms）显示文字结果
    setTimeout(() => {
      this.cupResult.textContent = result.text;
      cup1Container.querySelector('.cup-label').textContent = result.label1;
      cup2Container.querySelector('.cup-label').textContent = result.label2;
    }, 800);
    
    // 再等待1.5秒后处理结果
    setTimeout(() => {
      this.handleCupResult(result);
    }, 2300);
  }

  getCupSVG(type) {
    if (type === 'convex') {
      return `
        <g transform="translate(40, 60) rotate(-90) translate(-40, -60)">
          <path d="M 15 75 A 25 25 0 0 1 65 75 Z" 
                fill="#8B0000" 
                stroke="#000000" 
                stroke-width="2"/>
          <ellipse cx="40" cy="58" rx="12" ry="8" 
                   fill="rgba(255,255,255,0.2)"/>
        </g>
      `;
    } else {
      return `
        <g transform="translate(40, 60) rotate(-90) translate(-40, -60)">
          <path d="M 15 45 A 25 25 0 0 0 65 45 Z" 
                fill="#8B0000" 
                stroke="#000000" 
                stroke-width="2"/>
          <line x1="18" y1="47" x2="62" y2="47" 
                stroke="rgba(255,255,255,0.3)" 
                stroke-width="1.5"/>
        </g>
      `;
    }
  }

  animateCups(cup1, cup2) {
    [cup1, cup2].forEach((cup, index) => {
      cup.style.transition = 'transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
      cup.style.transform = `rotate(${360 + index * 180}deg) scale(1.1)`;
      
      setTimeout(() => {
        cup.style.transform = 'rotate(0deg) scale(1)';
      }, 800);
    });
  }

  handleCupResult(result) {
    if (result.type === 'holy') {
      // 圣杯 - 显示签文详情页面
      this.mainCard.style.display = 'none';
      this.showLotteryResult();
      this.resultCard.classList.add('active');
    } else if (result.type === 'smile') {
      // 笑杯 - 显示重新摇签按钮
      this.actionBtn.textContent = '重新摇签';
      this.actionBtn.style.display = 'block';
      this.actionBtn.dataset.action = 'shake';
    } else {
      // 阴杯 - 显示重新祈请按钮
      this.actionBtn.textContent = '重新祈请';
      this.actionBtn.style.display = 'block';
      this.actionBtn.dataset.action = 'pray';
    }
  }

  showLotteryResult() {
    const selectedLottery = guanyinLotteryData[Math.floor(Math.random() * guanyinLotteryData.length)];
    
    document.getElementById('lottery-title').textContent = selectedLottery.title;
    document.getElementById('lottery-id').textContent = selectedLottery.id;
    
    const typeText = selectedLottery.type || '中签';
    document.getElementById('lottery-type').textContent = typeText;
    
    const typeClass = typeText.includes('上') ? '上签' : 
                     typeText.includes('下') ? '下签' : '中签';
    document.getElementById('lottery-type').className = 'lottery-type ' + typeClass;
    
    document.getElementById('poetry-text').textContent = selectedLottery.poetry;
    document.getElementById('meaning-text').textContent = selectedLottery.meaning;
    document.getElementById('explanation-text').textContent = selectedLottery.explanation;
  }

  handleAction() {
    const action = this.actionBtn.dataset.action;
    if (action === 'shake') {
      this.actionBtn.style.display = 'none';
      // 重置杯子内容和签筒状态
      this.cupResult.textContent = '';
      document.getElementById('cup1').querySelector('svg').innerHTML = '';
      document.getElementById('cup2').querySelector('svg').innerHTML = '';
      document.getElementById('cup1').querySelector('.cup-label').textContent = '';
      document.getElementById('cup2').querySelector('.cup-label').textContent = '';
      
      this.switchContent('shaking');
      this.startShakingAnimation();
    } else {
      this.restartLottery();
    }
  }

  restartLottery() {
    location.reload();
  }
}

// 页面加载完成后初始化
document.addEventListener('DOMContentLoaded', () => {
  new SimpleGuanyinLottery();
});
</script>
</body>
</html>
